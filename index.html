<!DOCTYPE html>

<html>
<head>
<title>CS323 Assignment</title> 
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"> 
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1"> 
          
<script type='text/javascript' src="js/three.min.js"></script>
<script type='text/javascript' src='js/DAT.GUI.min.js'></script>
<script type='text/javascript' src="js/orbitcontrols.js"></script> 

<script type='text/javascript' src="js/globalvariables.js"></script>
<script type='text/javascript' src="js/transformfunctions.js"></script>
<script type='text/javascript' src="js/transformmatrices.js"></script>
<script type='text/javascript' src="js/orbitcalculations.js"></script>
<script type='text/javascript' src="js/spaceobjects.js"></script>
<script type='text/javascript' src="js/lighting.js"></script>
<script type='text/javascript' src="js/uicomponents.js"></script>
<script type='text/javascript' src="js/controller.js"></script>

<style>
body {
    padding:0px;
    margin:0px;
    background-color:#000000;
}
</style>
</head>

<body>
<!-- Credit for vertex and fragment shaders to Lee Stemkoski: http://stemkoski.blogspot.co.uk/2013/07/shaders-in-threejs-glow-and-halo.html -->
<script id="vertexShader" type="x-shader/x-vertex">
uniform vec3 viewVector;
uniform float c;
uniform float p;
varying float intensity;
void main() 
{
    vec3 vNormal = normalize( normalMatrix * normal );
    vec3 vNormel = normalize( normalMatrix * viewVector );
    intensity = pow( c - dot(vNormal, vNormel), p );
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}
</script>
<!-- fragment shader a.k.a. pixel shader -->
<script id="fragmentShader" type="x-shader/x-vertex"> 
uniform vec3 glowColor;
varying float intensity;
void main() 
{
    vec3 glow = glowColor * intensity;
    gl_FragColor = vec4( glow, 1.0 );
}
</script>

<div id="controlsCanvas"></div>
<div id="threeCanvas"></div>
<script>
    initScene();
    renderScene();
</script>   
</body>
</html>
